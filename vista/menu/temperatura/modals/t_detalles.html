<div class="modal fade" id="detallesTemperaturaModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
    role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen modal-dialog-scrollable modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title detallesTemperaturatitle" id="temperaturaTitle"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Detalles de las grafica -->
                <div class="row">
                    <div class="col-12 col-lg-9 informacion-temperatura">
                        <div class=" p-3" id="TablaTemperaturaDia">
                            <table class="table table-hover display responsive" id="TablaTemperatura"
                                style="width: 100%;">
                            </table>
                        </div>
                    </div>
                    <div class="col-12 col-xl-3" id="FormularioActualizarTemperatura_container">
                        <form id="formActualizarTemperatura" class="disable-element" name="formActualizarTemperatura">
                            <div class="row">
                                <h5 id="ActualizarTemperatura_title"></h5>
                                <div class="col-12 col-xl-12 align-self-center">
                                    <div class="mb-3">
                                        <label for="Termometro_actualizar"
                                            class="form-label p-0 m-0">Termometro:</label>
                                        <select class="form-select input-form" name="Termometro"
                                            id="Termometro_actualizar" required>
                                            <option selected>Eliga un Termometro_capturar</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-12 col-xl-12">
                                    <div class="mb-3">
                                        <label for="lectura_actualizar">Lectura:</label>
                                        <div class="input-group mb-3">
                                            <input type="number" value="0" step="0.01" name="lectura"
                                                class="form-control input-form" required id="lectura_actualizar">
                                            <span class="input-span">°C</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-xl-12">
                                    <div class="mb-3">
                                        <label for="observaciones_actualizar">Observaciones:</label>
                                        <input type="text" name="observaciones" value="" class="form-control input-form"
                                            required id="observaciones_actualizar">
                                    </div>
                                </div>
                                <div class="col-12 col-lg-12 mb-3">
                                    <div class="d-flex justify-content-between">
                                        <h5>Firma: </h5>
                                        <button class="btn btn-hover reset_firma" data_tipo="actualizar"
                                            type="button">Reiniciar
                                            Firma</button>
                                    </div>
                                    <div class="mt-1 d-flex justify-content-center">
                                        <img style="display: none;" src="" id="img-firma" class="border" width="300"
                                            height="200">
                                        <canvas id="canvas_actualizar" class="border" width="300" height="200"></canvas
                                            required>
                                        <input type="hidden" id="firma_actualizar" name="firma" required />

                                    </div>
                                </div>
                                <div class="col-12 d-flex justify-content-end my-auto">
                                    <button type="submit" class=" btn btn-confirmar" id="btn-actualizar-temperatura">
                                        <i class="bi bi-person-x"></i> Actualizar
                                    </button>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-cancelar" data-bs-dismiss="modal"><i
                        class="bi bi-arrow-left-short"></i>
                    Cerrar
                </button>

            </div>
        </div>
    </div>



    <script>

    </script>


    <!-- 
    <script>
        // Obtén una referencia al elemento canvas y al contexto de dibujo
        var canvas = document.getElementById('firmaCanvas_actualizar');
        var ctx = canvas.getContext('2d');
        // Variables para almacenar la posición anterior del puntero/touch y un indicador de si se está dibujando actualmente
        var drawing = false;
        var lastX = 0;
        var lastY = 0;

        // Agrega eventos para registrar los movimientos del puntero/touch
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        canvas.addEventListener('touchstart', startDrawing);
        canvas.addEventListener('touchmove', draw);
        canvas.addEventListener('touchend', stopDrawing);
        canvas.addEventListener('touchcancel', stopDrawing);

        // Función para comenzar el dibujo
        function startDrawing(e) {
            drawing = true;
            var pos = getMousePos(canvas, e);
            [lastX, lastY] = [pos.x, pos.y];
            e.preventDefault();
        }

        // Función para dibujar en el lienzo
        function draw(e) {
            if (!drawing) return; // Si no se está dibujando, no hacer nada

            var pos = getMousePos(canvas, e);
            var currentX = pos.x;
            var currentY = pos.y;

            // Dibujar una línea suave desde la posición anterior a la posición actual
            ctx.lineWidth = 3;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            ctx.strokeStyle = 'blue';
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(currentX, currentY);
            ctx.stroke();

            [lastX, lastY] = [currentX, currentY];
            e.preventDefault();
        }

        // Función para detener el dibujo
        function stopDrawing() {
            drawing = false;
        }

        // Función auxiliar para obtener las coordenadas del puntero/touch en relación con el canvas
        function getMousePos(canvas, evt) {
            var rect = canvas.getBoundingClientRect();
            var clientX, clientY;

            if (evt.touches && evt.touches.length > 0) {
                clientX = evt.touches[0].clientX;
                clientY = evt.touches[0].clientY;
            } else {
                clientX = evt.clientX;
                clientY = evt.clientY;
            }

            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        }

        // Función para reiniciar el campo de la firma
        function resetFirma() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // ...

        // Referencia al campo oculto
        var firmaInput2 = document.getElementById('firma_actualizar');

        function validarFormulario2() {
            var canvas = document.getElementById('firmaCanvas_actualizar');
            var firmaInput2 = document.getElementById('firma_actualizar');

            // Obtener el contexto del canvas
            var ctx = canvas.getContext('2d');

            // Verificar si se ha dibujado algo en el canvas
            var canvasData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            var isFirmaVacia = Array.from(canvasData).every((pixel) => pixel === 0);

            if (isFirmaVacia) {
                alertToast('Por favor, ingrese su firma antes de enviar el formulario.', 'info', 3000);
                return false;
            }

            // Si se ha dibujado algo en el canvas, guardar la imagen en el campo de firma
            var imageDataUrl = canvas.toDataURL();
            firmaInput2.value = imageDataUrl;

            return true;
        }

        // Inicializar SignaturePad en el canvas
        var canvas = document.getElementById('firmaCanvas_actualizar');
        var signaturePad = new SignaturePad(canvas);
    </script> -->